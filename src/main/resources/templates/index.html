<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Lista de Usuarios</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="container mt-4">
    <h1>Bienvenido a la aplicación</h1>

    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2>Lista de usuarios registrados</h2>
        <form th:action="@{/buscar}" method="get" class="form-inline">
            <input type="text" name="keyword" class="form-control mr-2" placeholder="Buscar por nombre o email">
            <button type="submit" class="btn btn-primary">Buscar</button>
        </form>
    </div>

    <table class="table table-striped table-bordered">
        <thead class="thead-dark">
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Apellido</th>
                <th>Email</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="usuario : ${usuarios}">
                <td th:text="${usuario.id}">ID</td>
                <td th:text="${usuario.nombre}">Nombre</td>
                <td th:text="${usuario.apellido}">Apellido</td>
                <td th:text="${usuario.email}">Email</td>
            </tr>
        </tbody>
    </table>

    <form th:action="@{/logout}" method="post" id="logoutForm">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
        
        
        <button type="submit" class="btn btn-primary btn">Cerrar sesión</button>
    </form>

    <script th:inline="javascript">
        /*<![CDATA[*/
        let usuarios = /*[[${usuarios}]]*/ [];
        console.log(usuarios);
        /*]]>*/
    </script>
</body>
</html>



